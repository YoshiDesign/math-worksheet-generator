<div id="messaging" class="message-block" *ngIf="worksheetService.problems.length">
    <p>
        This worksheeet will become scrollable.<br>Problems will be printed on additional pages.
    </p>

  </div>
<div class="worksheet">
  <div class="worksheet-sidebar mat-elevation-z5 d-print-none">
    <form #optionsForm="ngForm">
      <md-card class="worksheet-options mat-elevation-z0">
        <md-card-title>
          Worksheet Options
        </md-card-title>
        <md-card-subtitle>
          Adjust the options for the worksheet
        </md-card-subtitle>
        <md-card-content>
          <md-accordion>
            <md-expansion-panel class="worksheet-options__panel-problem-options mat-elevation-z0" expanded="true">
              <md-expansion-panel-header>
                <md-panel-title>
                   Levels and Lessons
                </md-panel-title>
              </md-expansion-panel-header>
              <md-form-field>
                <input mdInput #problemCount="ngModel" type="number" placeholder="Number of Problems" name="problemCount" value="20" required [(ngModel)]="worksheetService.options.problemCount">
                <md-error [hidden]="problemCount.valid || problemCount.pristine">
                  Number of Problems must be provided
                </md-error>
              </md-form-field>

              <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.alphaOptions.enabled">
                <md-slide-toggle color="primary" name="alphaEnabled" [(ngModel)]="worksheetService.options.alphaOptions.enabled">Alpha</md-slide-toggle>
                <div id="alpha-selector" class="level-selector" *ngIf="worksheetService.options.alphaOptions.enabled">

                    <!-- SELECT YOUR LESSON -->

                        <select id="alpha-select" name="" class="select-lesson select-alpha-lesson">
                            <option value="default">Please Select a Lesson</option>
                            <option value="36">Lesson 4 - Adding 0</option>
                            <option value="37">Lesson 5 - Adding 1</option>
                            <option value="39">Lesson 7 - Adding 2</option>
                            <option value="40">Lesson 8 - Solving for an Unknown</option>
                            <option value="41">Lesson 9 - Adding 9</option>
                            <option value="42">Lesson 10 - Adding 8</option>
                            <option value="44">Leesson 12 - Adding Doubles</option>
                            <option value="46">Lesson 14 - Adding Doubles Plus 1</option>
                            <option value="47">Lesson 15 - Adding to Make 10</option>
                            <option value="48">Lesson 16 - Adding to Make 9</option>
                            <option value="49">Lesson 17 - 3+5, 4+7, 5+7</option>
                            <option value="51">Lesson 19 - Subtracting 0 and 1</option>
                            <option value="52">Lesson 20 - Subtracting 2</option>
                            <option value="53">Lesson 21 - Subtracting 9</option>
                            <option value="54">Lesson 22 - Subtracting 8</option>
                            <option value="55">Lesson 23 - Doubles Subtraction</option>
                            <option value="56">Lesson 24 - Subtracting From 10</option>
                            <option value="57">Lesson 25 - Subtracting From 9</option>
                            <option value="58">Lesson 26 - 7-4, 7-3, 8-5, 8-3</option>
                            <option value="59">Lesson 27 - Subtracting 7</option>
                            <option value="60">Lesson 28 - Subtracting 6</option>
                            <option value="61">Lesson 29 - Subtracting 5</option>
                            <option value="62">Lesson 30 - Subtracting 3 and 4</option>
                        </select>

                    </div>
                    <div *ngIf="worksheetService.options.alphaOptions.enabled" (click)="addLessonList('alpha')" class="add-lesson">
                        <i style="font-size: 22px; cursor:pointer;" class="fa fa-plus-square lg-size"></i>
                        <div class="add-text">
                            Add Another Lesson
                        </div>
                    </div>
              </div>

              <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.betaOptions.enabled">
                <md-slide-toggle color="primary" name="betaEnabled" [(ngModel)]="worksheetService.options.betaOptions.enabled">Beta</md-slide-toggle>
                <div id="beta-selector" class="level-selector" *ngIf="worksheetService.options.betaOptions.enabled">
  
                    <select id="beta-select" name="" class="select-lesson select-beta-lesson">
                        <option value="default">Please Select a Lesson</option>
                        <option value="68">Lesson 3 - Inequalities</option>
                        <option value="69">Lesson 4 - Round to the Nearest Ten</option>
                        <option value="70">Lesson 5 - Multiple-Digit Addition</option>
                        <option value="72">Lesson 7 - 2-Digit Addition with Carry</option>
                        <option value="76">Lesson 11 - 3-Digit Addition: Sum < 1000</option>
                        <option value="78">Lesson 13 - Column Addition</option>
                        <option value="81">Lesson 16 - 3-Digit Addition: Sum > 1000</option>
                        <option value="83">Lesson 18 - 3-Digit Column Addition</option>
                        <option value="84">Lesson 19 - 4-Digit Column Addition</option>
                        <option value="85">Lesson 20 - 2 &amp; 3 Digit Subtraction Without Regrouping</option>
                        <option value="87">Lesson 22 - 2-Digit Subtraction with Regrouping</option>
                        <option value="89">Lesson 24 - 3-Digit Subtraction with Regrouping</option>
                        <option value="91">Lesson 26 - 4-Digit Subtraction with Regrouping</option>
                        <option value="93">Lesson 28 - 5-Digit Subtraction with Regrouping</option>
                    </select>
                  </div>

                    <div *ngIf="worksheetService.options.betaOptions.enabled" (click)="addLessonList('beta')" class="add-lesson">
                      <!-- <div data-level="beta" class="add-button"> -->
                          <i style="font-size: 22px; cursor:pointer;" class="fa fa-plus-square lg-size"></i>
                      <!-- </div> -->
                      <div class="add-text">
                          Add Another Lesson
                      </div>
                  </div>

              </div>

              <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.gammaOptions.enabled">
                <md-slide-toggle color="primary" name="gammaEnabled" [(ngModel)]="worksheetService.options.gammaOptions.enabled">Gamma</md-slide-toggle>
                <div id="gamma-selector" class="level-selector" *ngIf="worksheetService.options.gammaOptions.enabled">

                    <select id="gamma-select" name="" class="select-lesson select-gamma-lesson">
                        <option value="default">Please Select a Lesson</option>
                        <option value="98">Lesson 2 - Multiply By 1 And 0, Commutative Property</option>
                        <option value="100">Lesson 4 - Multiply By 2, 1 Quart = 2 Pints</option>
                        <option value="102">Lesson 6 - Multiply By 5, 5Â¢ = 1 Nickel</option>
                        <option value="104">Lesson 8 - Solve for an Unknown</option>
                        <option value="106">Lesson 10 - Multiply By 9</option>
                        <option value="108">Lesson 12 - Multiply By 3, 3 Feet = 1 Yard</option>
                        <option value="110">Lesson 14 - Multiply By 6</option>
                        <option value="112">Lesson 16 - Multiply By 4, 4 Quarters = 1 Dollar</option>
                        <option value="114">Lesson 18 - Multiply By 7 And By Multiples Of 100</option>
                        <option value="116">Lesson 20 - Multiply By 8</option>
                        <option value="117">Lesson 21 - Multiple-Digit Multiplication</option>
                        <option value="119">Lesson 23 - Double-Digit Times Double-Digit</option>
                        <option value="120">Lesson 24 - Double-Digit With Regrouping</option>
                        <option value="1211">Lesson 25 (1) - Multiple-Digit Multiplication, Regrouping</option>
                        <option value="1212">Lesson 25 (2) - Multiple-Digit Multiplication, Regrouping</option>
                        <option value="1241">Lesson 28 (1) - More Multiple-Digit Multiplication</option>
                        <option value="1242">Lesson 28 (2) - More Multiple-Digit Multiplication</option>
                    </select>
                  </div>

                    <div *ngIf="worksheetService.options.gammaOptions.enabled" (click)="addLessonList('gamma')" class="add-lesson">
                        <i style="font-size: 22px; cursor:pointer;" class="fa fa-plus-square lg-size"></i>
                      <div class="add-text">
                          Add Another Lesson
                      </div>
                    </div>

              </div>

              <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.deltaOptions.enabled">
                <md-slide-toggle color="primary" name="deltaEnabled" [(ngModel)]="worksheetService.options.deltaOptions.enabled">Delta</md-slide-toggle>
                <div id="delta-selector" class="level-selector" *ngIf="worksheetService.options.deltaOptions.enabled">

                    <select id="delta-select" name="" class="select-lesson select-delta-lesson">
                        <option value="default">Please Select a Lesson</option>
                        <option value="129">Lesson 2 - Division By 1 And 2, Symbols For Division</option>
                        <option value="130">Lesson 3 - Division By 10, Third Symbol For Division</option>
                        <option value="131">Lesson 4 - Division By 5 And 3</option>
                        <option value="133">Lesson 6 - Division By 9</option>
                        <option value="135">Lesson 8 - Division By 6</option>
                        <option value="137">Lesson 10 - Division By 4</option>
                        <option value="139">Lesson 12 - Division By 7 And 8</option>
                        <option value="143">Lesson 16 - Division By A Single Digit With Remainder</option>
                        <option value="145">Lesson 18 - Division With Double-Digit Factors</option>
                        <option value="146">Lesson 19 - Division, Three Digit By One Digit</option>
                        <option value="147">Lesson 20 - Division, Three Digit By One Digit (Cont.)</option>
                        <option value="149">Lesson 22 - Division, Three Digit By Two Digit</option>
                        <option value="150">Lesson 23 - Division, Four Digit By One Digit</option>
                        <option value="151">Lesson 24 - Division, Four Digit By Two Digit</option>
                        <option value="152">Lesson 25 - Division, Multiple Digit By Multiple Digit</option>
                        <option value="154">Lesson 27 - Fraction Of A Number</option>
                        <option value="155">Lesson 28 - Roman Numerals: I, V, X, L, And C</option>
                        <option value="157">Lesson 30 - Roman Numerals: D, M, Multiples Of 1,000</option>
                    </select>

                  </div>
                    <div *ngIf="worksheetService.options.deltaOptions.enabled" (click)="addLessonList('delta')" class="add-lesson">
                        <i style="font-size: 22px; cursor:pointer;" class="fa fa-plus-square lg-size"></i>
                      <div class="add-text">
                          Add Another Lesson
                      </div>
                  </div>

              </div>

              <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.epsilonOptions.enabled">
                <md-slide-toggle color="primary" name="epsilonEnabled" [(ngModel)]="worksheetService.options.epsilonOptions.enabled">Epsilon</md-slide-toggle>
                <div id="epsilon-selector" class="level-selector" *ngIf="worksheetService.options.epsilonOptions.enabled">

                        <select id="epsilon-select" name="" class="select-lesson select-epsilon-lesson">
                            <option value="default">Please Select a Lesson</option>
                            <option value="161">Lesson 3 - Add And Subtract Fractions</option>
                            <option value="163">Lesson 5 - Addition And Subtraction</option>
                            <option value="164">Lesson 6 - The Rule Of Four</option>
                            <option value="166">Lesson 8 - Adding Multiple Fractions</option>
                            <option value="167">Lesson 9 - Multiplying Fractions</option>
                            <option value="168">Lesson 10 - Dividing Fractions With The Rule Of Four</option>
                            <option value="170">Lesson 12 - Reducing FractionsâCommon Factors</option>
                            <option value="171">Lesson 13 - Reducing FractionsâPrime Factors</option>
                            <option value="173">Lesson 15 - Mixed Numbers And Improper Fractions</option>
                            <option value="175">Lesson 17 - Addition And Subtraction Of Mixed Numbers</option>
                            <option value="176">Lesson 18 - Addition of Mixed Numbers</option>
                            <option value="177">Lesson 19 - Subtraction Of Mixed Numbers</option>
                            <option value="179">Lesson 21 - Adding Mixed Numbers</option>
                            <option value="180">Lesson 22 - Subtracting Mixed Numbers</option>
                            <option value="181">Lesson 23 - Dividing Fractions And Mixed Numbers</option>
                            <option value="183">Lesson 25 - Multiplying Mixed Numbers</option>
                            <option value="187">Lesson 29 - Fractions To Decimals To Percents</option>
                        </select>
                      </div>

                        <div *ngIf="worksheetService.options.epsilonOptions.enabled" (click)="addLessonList('epsilon')" class="add-lesson">
                            <i style="font-size: 22px; cursor:pointer;" class="fa fa-plus-square lg-size"></i>
                          <div class="add-text">
                              Add Another Lesson
                          </div>
                      </div>

              </div>

              <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.zetaOptions.enabled">
                <md-slide-toggle color="primary" name="zetaEnabled" [(ngModel)]="worksheetService.options.zetaOptions.enabled">Zeta</md-slide-toggle>
                <div id="zeta-selector" class="level-selector" *ngIf="worksheetService.options.zetaOptions.enabled">

                    <select id="zeta-select" name="" class="select-lesson select-zeta-lesson">
                        <option value="default">Please Select a Lesson</option>
                        <option value="193">Lesson 4 - Add Decimal Numbers</option>
                        <option value="194">Lesson 5 - Subtract Decimal Numbers</option>
                        <option value="197">Lesson 8 - Metric System ConversionâPart 1</option>
                        <option value="198">Lesson 9 - Multiply By 1/10 Or 0.1</option>
                        <option value="199">Lesson 10 - Multiply Decimals By 1/100 Or 0.01</option>
                        <option value="203">Lesson 14 - Multiply All Decimals</option>
                        <option value="204">Lesson 15 - Metric System Conversions â Part 2</option>
                        <option value="206">Lesson 17 - Dividing A Decimal By A Whole Number</option>
                        <option value="207">Lesson 18 - Dividing A Whole Number By A Decimal</option>
                        <option value="208">Lesson 19 - Solving For An Unknown</option>
                        <option value="209">Lesson 20 - Dividing A Decimal By A Decimal</option>
                        <option value="2101">Lesson 21 (1) - Decimal Remainders</option>
                        <option value="2102">Lesson 21 (2) - Decimal Remainders</option>
                        <option value="2103">Lesson 21 (3) - Decimal Remainders</option>
                        <option value="2104">Lesson 21 (4) - Decimal Remainders</option>
                        <option value="211">Lesson 22 - More Solving For An Unknown</option>
                        <option value="212">Lesson 23 - Transform Any Fraction</option>
                        <option value="213">Lesson 24 - Decimals As Rational Numbers</option>
                    </select>
                  </div>

                    <div *ngIf="worksheetService.options.zetaOptions.enabled" (click)="addLessonList('zeta')" class="add-lesson">
                        <i style="font-size: 22px; cursor:pointer;" class="fa fa-plus-square lg-size"></i>
                      <div class="add-text">
                          Add Another Lesson
                      </div>
                  </div>

              </div>

              <!-- <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.prealgebraOptions.enabled">
                <md-slide-toggle color="primary" name="prealgebraEnabled" [(ngModel)]="worksheetService.options.prealgebraOptions.enabled">Pre-Algebra</md-slide-toggle>
                <div id="prealgebra-selector" class="level-selector" *ngIf="worksheetService.options.prealgebraOptions.enabled">

                    <select id="prealgebra-select" name="" class="select-lesson select-prealgebra-lesson">
                        <option value="default">Please Select a Lesson</option>
                        <option value="221">Lesson 1 - Negative Numbers, Addition</option>
                        <option value="222">Lesson 2 - Negative Numbers, Subtraction</option>
                        <option value="223">Lesson 3 - Negative Numbers, Multiplication</option>
                        <option value="224">Lesson 4 - Negative Numbers, Division</option>
                        <option value="225">Lesson 5 - Exponents</option>
                        <option value="226">Lesson 7 - Negative Numbers With Exponents</option>
                        <option value="227">Lesson 8 - Roots And Radicals</option>
                        <option value="228">Lesson 9 - Solve For An Unknown</option>
                        <option value="233">Lesson 13 - Solve For An Unknown</option>
                        <option value="234">Lesson 14 - Solve For An Unknown</option>
                        <option value="236">Lesson 16 - Transform Celsius To Fahrenheit</option>
                        <option value="237">Lesson 17 - Transform Fahrenheit To Celsius</option>
                      </select>
                    </div>

                    <div *ngIf="worksheetService.options.prealgebraOptions.enabled" (click)="addLessonList('prealgebra')" class="add-lesson">
                      <div data-level="alpha" class="add-button">
                          +
                      </div>
                      <div class="add-text">
                          Add Another Lesson
                      </div>
                  </div>

              </div> -->

              <div class="worksheet-options__problem-type" [class.worksheet-options__problem-type--enabled]="worksheetService.options.aimOptions.enabled">
                <md-slide-toggle color="primary" name="aimEnabled" [(ngModel)]="worksheetService.options.aimOptions.enabled">A.I.M.</md-slide-toggle>
                <div id="aim-selector" class="level-selector" *ngIf="worksheetService.options.aimOptions.enabled">
                
                    <select id="aim-select" name="" class="select-lesson select-aim-lesson">
                        <option value="default">Please Select a Lesson</option>
                        <!-- <option value="524">Lesson 1 - Integer Blocks</option> -->
                        <option value="525">Lesson 2 - Addition +2</option>
                        <option value="526">Lesson 3 - Addition +9</option>
                        <option value="527">Lesson 4 - Addition +8</option>
                        <option value="528">Lesson 5 - Addition: Doubles</option>
                        <option value="529">Lesson 6 - Addition: Doubles +1</option>
                        <option value="530">Lesson 7 - Addition: Making 10</option>
                        <option value="531">Lesson 8 - Addition: Making 9</option>
                        <option value="532">Lesson 9 - Addition of the Extras</option>
                        <option value="533">Lesson 10 - Solving For the Unknown</option>
                        <!-- <option value="534">Lesson 11 - Introduction To Subtraction</option> -->
                        <option value="535">Lesson 12 - Subtraction: -2</option>
                        <option value="536">Lesson 13 - Subtraction: -9</option>
                        <option value="537">Lesson 14 - Subtraction: -8</option>
                        <option value="538">Lesson 15 - Subtraction: Doubles</option>
                        <option value="539">Lesson 16 - Subtraction: Making 10</option>
                        <option value="540">Lesson 17 - Subtraction: Making 9</option>
                        <option value="541">Lesson 18 - Subtraction: Extras</option>
                        <option value="542">Lesson 19 - Subtraction by 7, or Adding up by 3</option>
                        <option value="543">Lesson 20 - Subtraction by 6, or Adding up by 4</option>
                        <option value="544">Lesson 21 - Subtraction by 5, or Adding up by 5</option>
                        <option value="545">Lesson 22 - Subtraction by 3 and 4</option>
                    </select>
                  </div>

                    <div *ngIf="worksheetService.options.aimOptions.enabled" (click)="addLessonList('aim')" class="add-lesson">
                        <i style="font-size: 22px; cursor:pointer;" class="fa fa-plus-square lg-size"></i>
                      <div class="add-text">
                          Add Another Lesson
                      </div>
                  </div>

              </div>

            </md-expansion-panel>
            <md-expansion-panel class="worksheet-options__panel-display-options mat-elevation-z0">
              <md-expansion-panel-header>
                <md-panel-title>
                  Display Options
                </md-panel-title>
              </md-expansion-panel-header>
              <div>
                Problems per row
                <br>
                <md-slider color="primary" min="1" max="4" [value]="problemsPerRow" (input)="problemsPerRowSliderChange($event)"></md-slider> {{problemsPerRow}}
              </div>
              <!-- <div *ngIf="worksheetService.options.containsInequality == true">
                Problems per row
                <br>
                <md-slider color="primary" min="1" max="3" [value]="problemsPerRow" (input)="problemsPerRowSliderChange($event)"></md-slider> {{problemsPerRow}}
              </div> -->
              <div>
                Problem font size
                <br>
                <md-slider color="primary" min="1" max="6" [value]="problemFontSize" (input)="problemFontSizeSliderChange($event)"></md-slider> {{problemFontSize}}
              </div>
              <!-- <div *ngIf="!worksheetService.options.showHorizontal">
                Problem letter spacing
                <br>
                <md-slider color="primary" min="1" max="10" [value]="letterSpacing" (input)="letterSpacingSliderChange($event)"></md-slider> {{letterSpacing}}
              </div> -->
              <div>
                Line spacing
                <br>
                <md-slider color="primary" min="1" max="10" [value]="lineSpacing" (input)="lineSpacingSliderChange($event)"></md-slider> {{lineSpacing}}
              </div>
              <div>
                <md-slide-toggle color="primary" name="showNameLine" [(ngModel)]="worksheetService.options.showNameLine">Show name line</md-slide-toggle>
              </div>
              <div>
                <md-slide-toggle color="primary" name="showDateLine" [(ngModel)]="worksheetService.options.showDateLine">Show date line</md-slide-toggle>
              </div>
              <div>
                <md-slide-toggle color="primary" name="showTitle" [(ngModel)]="worksheetService.options.showTitle">Show title</md-slide-toggle>
                <br>
                <md-form-field *ngIf="worksheetService.options.showTitle">
                  <input mdInput #title="ngModel" type="text" placeholder="Title" name="title" required [(ngModel)]="worksheetService.options.title">
                  <md-error [hidden]="title.valid || title.pristine">
                    A title must be provided
                  </md-error>
                </md-form-field>
              </div>
              <div>
                <md-slide-toggle color="primary" name="showInstructions" [(ngModel)]="worksheetService.options.showInstructions">Show instructions</md-slide-toggle>
                <br>
                <md-form-field *ngIf="worksheetService.options.showInstructions">
                  <input mdInput #instructions="ngModel" type="text" placeholder="Instructions" name="instructions" required [(ngModel)]="worksheetService.options.instructions">
                  <md-error [hidden]="instructions.valid || instructions.pristine">
                    Instructions must be provided
                  </md-error>
                </md-form-field>
              </div>
              <div>
                <md-slide-toggle color="primary" name="showProblemNumbers" [(ngModel)]="worksheetService.options.showProblemNumbers">Show problem numbers</md-slide-toggle>
              </div>
              <div>
                <md-slide-toggle color="primary" name="showAnswers" [(ngModel)]="worksheetService.options.showAnswers">Show answers</md-slide-toggle>
              </div>
              <div>
                <md-slide-toggle color="primary" name="landscape" [(ngModel)]="worksheetService.options.landscape" mdTooltip="This is a preview only. You will have to adjust your printer settings to print in landscape mode." mdTooltipPosition="right">Landscape preview</md-slide-toggle>
              </div>
              <div>
                  <md-slide-toggle color="primary" name="showHorizontal" [(ngModel)]="worksheetService.options.showHorizontal" (click)="setHorizontal()" >Horizontal Equations</md-slide-toggle>
              </div>
            </md-expansion-panel>


            <!-- <md-expansion-panel class="worksheet-options__panel-display-options mat-elevation-z0">
                <md-expansion-panel-header>
                  <md-panel-title>
                    More Info.
                  </md-panel-title>
                </md-expansion-panel-header>
                <div>
                  <p>Test</p>
                </div>
              </md-expansion-panel> -->


          </md-accordion>
        </md-card-content>
      </md-card>
    </form>

    <div class="worksheet__generate mat-elevation-z5 d-print-none">

      <button type="button" style="background:#256eb7;" md-raised-button color="primary" (click)="generateWorksheet()" [disabled]="!optionsForm.form.valid">Generate Worksheet</button>
      <br><br>

      <button type="button" style="background:#f37c21;" md-raised-button color="primary" (click)="reset()" [disabled]="!optionsForm.form.valid">Reset</button>
      <br><br>
      <button *ngIf="worksheetService.problems.length" type="button" style="background:#042065; " md-raised-button color="primary" (click)="print()" [disabled]="!optionsForm.form.valid">Print</button>

      <!-- <button class="worksheet__print-button d-print-none" md-fab color="accent" *ngIf="worksheetService.problems.length">
        <md-icon class="md-24" aria-label="Print the worksheet" (click)="print()">print</md-icon>
      </button> -->
    </div>

  </div>
  <div id="main-sheet" class="worksheet-content">

    <md-card style='overflow: scroll;' class="worksheet__card" [class.worksheet__card--landscape]="worksheetService.options.landscape" *ngIf="worksheetService.problems.length">

      <md-card-content>
        <h2 class="worksheet__name-date clearfix" *ngIf="worksheetService.options.showNameLine || worksheetService.options.showDateLine">
          <span class="worksheet__name" *ngIf="worksheetService.options.showNameLine">Name:</span>
          <span class="worksheet__date" *ngIf="worksheetService.options.showDateLine">Date:</span>
        </h2>
        <h1 class="worksheet__title" *ngIf="worksheetService.options.showTitle">{{worksheetService.options.title}}</h1>
        <h3 class="worksheet__instructions" *ngIf="worksheetService.options.showInstructions">{{worksheetService.options.instructions}}</h3>
        <div class="math-problems" [ngClass]="mathProblemsClasses">
          <!-- Begin Loop -->

          <!-- HORIZONTAL -->
          <div style="width:100%;" *ngIf="worksheetService.options.showHorizontal">
            <div class="math-problem" *ngFor="let problem of worksheetService.problems; index as i">
              
              <!-- DELTA Problems -->
              <div class="math-problem__problem" *ngIf="problem.deltaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 154">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                    <table cellpadding="1"><tr><td class="numerator">{{problem.numerator}}</td><td rowspan="2" valign="center">&nbsp;&nbsp;of &nbsp; {{problem.product}}&nbsp;=</td></tr><tr><td>&nbsp;{{problem.denominator}}</td></tr></table>

              </div>
              
              <div class="math-problem__problem" *ngIf="problem.deltaProblem && worksheetService.options.showAnswers && problem.lessonNo == 154">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td class="numerator">{{problem.numerator}}</td><td rowspan="2" valign="center">&nbsp;&nbsp;of &nbsp; {{problem.product}} &nbsp;=&nbsp; <span class="math-answer">{{problem.divProd}}</span></td></tr><tr><td>&nbsp; {{problem.denominator}}</td></tr></table>
                
              </div>

              <!-- Delta lesson 28 -->
              <div class="math-problem__problem" *ngIf="problem.deltaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 155">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <!-- if(direction == 1){ -->
                    <table *ngIf="problem.direction == 1" cellpadding="1"><tr><td>{{problem.arabic}} = </td></tr></table>
                    

                    <table  *ngIf="problem.direction != 1" cellpadding="1"><tr><td>{{problem.roman}} = </td></tr></table>
                    
              </div>
             
              <div class="math-problem__problem" *ngIf="problem.deltaProblem && worksheetService.options.showAnswers && problem.lessonNo == 155">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                  <table *ngIf="problem.direction == 1" cellpadding="1"><tr><td>{{problem.arabic}}&nbsp; = &nbsp;<span class="math-answer"> {{problem.roman}}</span></td></tr></table>
                  <table  *ngIf="problem.direction !== 1" cellpadding="1"><tr><td>{{problem.roman}}&nbsp; = <span class="math-answer"> &nbsp; {{problem.arabic}}</span></td></tr></table>
              </div>

              <!-- Delta Lesson 30 -->
              <div class="math-problem__problem" *ngIf="problem.deltaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 157">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                   <table *ngIf="direction == 1" cellpadding="1"><tr><td> {{problem.arabic}} = </td></tr></table>
                   <table *ngIf="direction != 1" cellpadding="1"><tr><td> {{problem.roman}} = </td></tr></table>
              </div>


              <div class="math-problem__problem" *ngIf="problem.deltaProblem && worksheetService.options.showAnswers && problem.lessonNo == 157">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table *ngIf="direction == 1" cellpadding="1"><tr><td> {{problem.arabic}}&nbsp;=&nbsp;<span class="math-answer">{{problem.roman}}</span></td></tr></table>
                    <table *ngIf="direction != 1" cellpadding="1"><tr><td> {{problem.roman}}&nbsp; =&nbsp;<span class="math-answer">{{problem.arabic}}</span></td></tr></table>
              </div>
              
              <!--  For Epsilon Problems -->

              <!-- EPSILON Lesson 3 161-->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 161">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td class="numerator">  {{problem.numerator1}}  </td>
                    <td rowspan="2" valign="middle">&nbsp;  {{problem.thisOperator}} &nbsp;</td>
                    <td class="numerator">  {{problem.numerator2}}  </td>
                    <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                    <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                    <tr><td>  {{problem.denominator}}  </td><td>  {{problem.denominator}}  </td><td>&nbsp;</td></tr>
                  </table>

              </div>
              
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 161">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td class="numerator">  {{problem.numerator1}}  </td>
                     <td rowspan="2" valign="middle">&nbsp;  {{problem.thisOperator}}  &nbsp;</td>
                     <td class="numerator">  {{problem.numerator2}}  </td>
                     <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                     <td class="numerator">  <span class="math-answer">{{problem.numerator3}}  </span></td></tr>
                     <tr><td> {{problem.denominator}}  </td><td> {{problem.denominator}} </td><td>  <span class="math-answer">{{problem.denominator}}</span> </td></tr>
                  </table>
              </div>

              <!-- /E3 -->
              <!-- Epsilon Lesson 5 163 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 163">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="1"><tr><td class="numerator">{{problem.numerator1}}</td>
                  <td rowspan="2" valign="middle">&nbsp;{{problem.thisOperator}}&nbsp;</td>
                  <td class="numerator">{{problem.numerator2}}</td>
                  <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                  <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                  <tr><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td>&nbsp;</td></tr>
                </table>
              </div>
              
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 163">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                  <table cellpadding="1">
                    <tr>
                      <td class="numerator">{{problem.numerator1}}</td>
                      <td rowspan="2" valign="middle">&nbsp;{{problem.thisOperator}}&nbsp;</td>
                      <td class="numerator">{{problem.numerator2}}</td>
                      <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>

                      <td *ngIf="problem.numerator3 == 0" rowspan="2" valign="middle">0</td>
                      <td *ngIf="problem.numerator3 != 0" class="numerator"><span class="math-answer">{{problem.numerator3}}</span></td>
                    </tr>
                        
                        <tr *ngIf="problem.numerator3 == 0"><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td></tr>
                        <tr *ngIf="problem.numerator3 != 0"><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td><span class="math-answer">{{problem.denominator3}}</span></td></tr>
                      
                  </table>

              </div>

              <!-- /E5 -->

              <!-- Epsilon Lesson 6 164 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 164">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="1">
                  <tr>
                    <td class="numerator">{{problem.numerator1}}</td>
                    <td rowspan="2" valign="middle">&nbsp;{{problem.thisOperator}}&nbsp;</td>
                    <td class="numerator">{{problem.numerator2}}</td>
                    <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                    <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td>
                  </tr>
                  <tr><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td>&nbsp;</td></tr>
                </table>
              
              </div>


              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 164">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1">
                    <tr>
                      <td class="numerator">{{problem.numerator1}}</td>
                      <td rowspan="2" valign="middle">&nbsp;{{problem.thisOperator}}&nbsp;</td>
                      <td class="numerator">{{problem.numerator2}}</td>
                      <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>

                        <td *ngIf="problem.numerator3 == 0" rowspan="2" valign="middle">0</td>
                        <td *ngIf="problem.numerator3 != 0" class="numerator"><span class="math-answer">{{problem.numerator3}}</span></td>
                      </tr>
                        <tr *ngIf="problem.numerator3 == 0" ><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td></tr>

                        <tr *ngIf="problem.numerator3 != 0" ><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td><span class="math-answer">{{problem.denominator3}}</span></td></tr>
                      
                  </table>


              </div>

              <!-- E6 -->


              <!-- Epsilon Lesson 8 166 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 166">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="1"><tr><td class="numerator">{{problem.numerator1}}</td>
                  <td rowspan="2" valign="middle">&nbsp;+&nbsp; </td>
                  <td class="numerator">{{problem.numerator2}}</td>
                  <td rowspan="2" valign="middle">&nbsp;+&nbsp; </td>
                  <td class="numerator">{{problem.numerator3}}</td>
                  <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                  <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                  <tr><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td>{{problem.denominator3}}</td><td>&nbsp;</td></tr></table>
              
              </div>

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 166">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>


                <table cellpadding="1"><tr><td class="numerator">{{problem.numerator1}}</td>
                  <td rowspan="2" valign="middle">&nbsp;+&nbsp;</td>
                  <td class="numerator">{{problem.numerator2}}</td>
                  <td rowspan="2" valign="middle">&nbsp;+&nbsp; </td>
                  <td class="numerator">{{problem.numerator3}}</td>
                  <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                  <td class="numerator"><span class="math-answer">{{problem.sumNumerator}}</span></td></tr>
                  <tr><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td>{{problem.denominator3}}</td><td align="center"><span class="math-answer">{{problem.sumDenominator}}</span></td></tr></table>

              </div>
              
              <!-- E5 -->

              <!-- Epsilon Lesson 9 167 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 167">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="1"><tr><td class="numerator">{{problem.numerator1}}</td>
                  <td rowspan="2" valign="middle">&nbsp;x&nbsp;</td>
                  <td class="numerator">{{problem.numerator2}}</td>
                  <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                  <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                  <tr><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td>&nbsp;</td></tr></table>
              
                </div>
                
                <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 167">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                
                <table cellpadding="1"><tr><td class="numerator">{{problem.numerator1}}</td>
                <td rowspan="2" valign="middle">&nbsp;x&nbsp;</td>
                <td class="numerator">{{problem.numerator2}}</td>
                <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                <td class="numerator"><span class="math-answer">{{problem.productNumerator}}</span></td></tr>
                <tr><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td align="center"><span class="math-answer">{{problem.productDenominator}}</span></td></tr></table>

              </div>
              
              <!-- E5 -->

              <!-- Epsilon Lesson 10 168 -->

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 168">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="1"><tr><td class="numerator">{{problem.numerator1}}</td>
                  <td rowspan="2" valign="middle">&nbsp;&divide;&nbsp;</td>
                  <td class="numerator">{{problem.numerator2}}</td>
                  <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                  <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                  <tr><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td>&nbsp;</td></tr>
                </table>
              </div>

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 168">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="1"><tr><td class="numerator">{{problem.numerator1}}</td>
                  <td rowspan="2" valign="middle">&nbsp;&divide;&nbsp;</td>
                  <td class="numerator">{{problem.numerator2}}</td>
                  <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                  <td *ngIf="problem.divNumDom" valign="center" rowspan="2">{{problem.numDivDom}}</td>
                  <td *ngIf="!problem.divNumDom" class="numerator"><span class="math-answer">{{problem.quotientNumerator}}</span></td>
                </tr>
                <tr *ngIf="problem.divNumDom"><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td></tr>
                <tr *ngIf="!problem.divNumDom"><td>{{problem.denominator1}}</td><td>{{problem.denominator2}}</td><td *ngIf="!problem.divNumDom" align="center"><span class="math-answer">{{problem.quotientDenominator}}</span></td></tr>
              </table>

              </div>
              <!-- /E10 -->

              <!-- Epsilon Lesson 12 170 -->


              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 170">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
  

                    <table cellpadding="1"><tr><td class="numerator">{{problem.problemNumerator}}</td>
                      <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                      <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                      <tr><td>{{problem.problemDenominator}}</td><td>&nbsp;</td></tr>
                    </table>
            
              </div>
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 170">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                    <table cellpadding="1"><tr><td class="numerator">{{problem.problemNumerator}}</td>
                    <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                    <td class="numerator"><span class="math-answer">{{problem.answerNumerator}}</span></td></tr>
                    <tr><td>{{problem.problemDenominator}}</td><td><span class="math-answer">{{problem.answerDenominator}}</span></td></tr></table>

              </div>

              <!-- /E12 -->

              <!-- Epsilon Lesson 13 171 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 171">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
  

                    <table cellpadding="1"><tr><td class="numerator">{{problem.problemNumerator}}</td>
                      <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                      <td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                      <tr><td>{{problem.problemDenominator}}</td><td>&nbsp;</td></tr>
                    </table>
            
              </div>
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 171">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>


                    <table cellpadding="1"><tr><td class="numerator">{{problem.problemNumerator}}</td>
                    <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                    <td class="numerator"><span class="math-answer">{{problem.answerNumerator}}</span></td></tr>
                    <tr><td>{{problem.problemDenominator}}</td><td><span class="math-answer">{{problem.answerDenominator}}</span></td></tr></table>

              </div>

              <!--  /E13  -->

              <!-- Epsilon Lesson 15 173 -->

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 173">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                  <!-- if ((Math.floor(Math.random() * 2)1) == 1) { -->
                <div *ngIf="problem.mainSwitch == true" style="display:inline-block">
                  <table cellpadding="1">
                    <tr>
                      <td rowspan="2" valign="middle">{{problem.wholeNumber}}</td>
                      <td class="numerator" align="center">{{problem.mixNumerator}}</td>
                      <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td><td class="numerator">&nbsp;&nbsp;&nbsp;&nbsp;</td>
                    </tr>
                    <tr><td align="center">{{problem.mixDenominator}}</td><td>&nbsp;</td></tr>
                  </table>
          
                </div>
                
                <div *ngIf="!problem.mainSwitch" style="display:inline-block">
                <table cellpadding="1">
                  <tr>
                    <td class="numerator">{{problem.improperNumerator}}</td><td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                    <td rowspan="2">&nbsp;&nbsp;&nbsp;&nbsp;</td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr>
                  <tr>
                    <td align="center">{{problem.improperDenominator}}</td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
                  </tr>
                </table>
                  
                  
                </div>
                
                
              </div>
              
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 173">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                
                <div *ngIf="problem.mainSwitch" style="display:inline-block">
                  <table cellpadding="1">
                    <tr>
                      <td rowspan="2" valign="middle">{{problem.wholeNumber}}</td>
                      <td class="numerator" align="center">{{problem.mixNumerator}}</td>
                      <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td><td class="numerator" align="center"><span class="math-answer">{{problem.improperNumerator}}</span></td>
                    </tr>
                    <tr>
                      <td align="center">{{problem.mixDenominator}}</td><td align="center"><span class="math-answer">{{problem.improperDenominator}}</span></td>
                    </tr>
                  </table>
                </div>
                
                <div *ngIf="!problem.mainSwitch" style="display:inline-block">
                  <table cellpadding="1">
                    <tr>
                      <td class="numerator">{{problem.improperNumerator}}</td>
                      <td rowspan="2" valign="middle">&nbsp;=&nbsp;</td>
                      <td rowspan="2"><span class="math-answer">{{problem.wholeNumber}}</span></td><td class="numerator" align="center"><span class="math-answer">{{problem.mixNumerator}}</span></td>
                    </tr>
                    <tr>
                      <td align="center">{{problem.improperDenominator}}</td><td><span class="math-answer">{{problem.mixDenominator}}</span></td>
                
                    </tr>
                  </table>
                </div>
              </div>
    


              <!-- /E15 -->


              <!-- Epsilon Lesson 17 175 -->
        <div *ngIf="problem.mainSwitch">

          <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 175">
              <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
              <!--  Display  -->
                  <table><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2">{{problem.wholeAddend1}}</td><td class="numerator" align="center">{{problem.numAddend1}}</td></tr>
                      <tr><td>{{problem.denominator}}</td></tr></table>
                      </td></tr><tr><td class="numerator" align="right">
                      <table cellpadding="1"><tr><td rowspan="2">+&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                      <tr><td>{{problem.denominator}}</td></tr></table>
                      </td></tr><tr><td align="right">
                      <table cellpadding="1"><tr><td rowspan="2">&nbsp;</td><td>&nbsp;</td></tr>
                      <tr><td>&nbsp;</td></tr>
                    </table>
                    </td></tr>
                  </table>
                  </div>

                        
          <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 175">
              <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
              <!--  Answer Key -->
                <table>
                  <tr>
                    <td align="right">
                      <table cellpadding="1">
                        <tr>
                          <td rowspan="2">{{problem.wholeAddend1}}</td>
                          <td class="numerator" align="center">{{problem.numAddend1}}</td>
                        </tr>
                        <tr>
                          <td>{{problem.denominator}}</td>
                        </tr>
                      </table>
                    </td>
                  </tr>
                  <tr>
                    <td class="numerator" align="right">
                      <table cellpadding="1">
                        <tr>
                          <td rowspan="2">+&nbsp;</td>
                          <td rowspan="2">{{problem.wholeAddend2}}</td>
                          <td class="numerator" align="center">{{problem.numAddend2}}</td>
                        </tr>
                        <tr><td>{{problem.denominator}}</td>
                        </tr>
                      </table>
                    </td>
                  </tr>
                  <tr>
                    <td align="right">
                      <table cellpadding="1">
                        <tr>
                          <td rowspan="2"><span class="math-answer">{{problem.wholeSum}}</span></td>
                          <td class="numerator" align="center"><span class="math-answer">{{problem.numSum}}</span></td>
                        </tr>
                        <tr>
                          <td> <span class="math-answer">{{problem.denominator}}</span></td>
                        </tr>
                      </table>
                    </td>
                  </tr>
                </table><br>

          </div>

        </div>


        <div *ngIf="!problem.mainSwitch">

                        
            <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 175">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                <!-- Display -->
                    <table><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2">{{problem.wholeSum}}</td><td class="numerator" align="center">{{problem.numSum}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr><tr><td class="numerator" align="right">
                    <table cellpadding="1"><tr><td rowspan="2">-&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2">&nbsp;</td><td>&nbsp;</td></tr>
                    <tr><td>&nbsp;</td></tr></table>
                    </td></tr></table>
            </div>

                                  
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 175">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <!-- Answer key -->
                    <table><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2">{{problem.wholeSum}}</td><td class="numerator" align="center">{{problem.numSum}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr><tr><td class="numerator" align="right">
                    <table cellpadding="1"><tr><td rowspan="2">-&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2"><span class="math-answer">{{problem.wholeAddend1}}</span></td><td class="numerator" align="center"><span class="math-answer">{{problem.numAddend1}}</span></td></tr>
                    <tr><td><span class="math-answer">{{problem.denominator}}</span></td></tr></table>
                    </td></tr></table><br>

              </div>

        </div>
              <!-- /E17 -->


              <!-- Epsilon Lesson 18 176 -->

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 176">

                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table><tr><td align="right">
                        <table cellpadding="1"><tr><td rowspan="2">{{problem.wholeAddend1}}</td><td class="numerator" align="center">{{problem.numAddend1}}</td></tr>
                        <tr><td>{{problem.denominator}}</td></tr></table>
                        </td></tr><tr><td class="numerator" align="right">
                        <table cellpadding="1"><tr><td rowspan="2">+&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                        <tr><td>{{problem.denominator}}</td></tr></table>
                        </td></tr><tr><td align="right">
                        <table cellpadding="1"><tr><td rowspan="2">&nbsp;</td><td>&nbsp;</td></tr>
                        <tr><td>&nbsp;</td></tr></table>
                        </td></tr></table>

              </div>

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 176">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
              
                  <table><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2">{{problem.wholeAddend1}}</td><td class="numerator" align="center">{{problem.numAddend1}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr><tr><td class="numerator" align="right">
                    <table cellpadding="1"><tr><td rowspan="2">+&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr>
                    <tr>
                      <td align="right">
                    <!-- if (numSum != 0) { -->
                        <table *ngIf="problem.numSum != 0" cellpadding="1"><tr><td rowspan="2"><span class="math-answer">{{problem.wholeSum}}</span></td><td class="numerator" align="center"><span class="math-answer">{{problem.numSum}}</span></td>
                        </tr><tr><td><span class="math-answer">{{problem.denomSum}}</span></td></tr></table>
                        
                    <!-- }else{ -->
                        <table *ngIf="problem.numSum == 0" cellpadding="1"><tr><td><span class="math-answer">{{problem.wholeSum}}</span></td><td>&nbsp;&nbsp;&nbsp;</td></tr></table> 
                          
                      </td>
                    </tr>
                  </table>
                 <br> 
              </div>


              <!-- /E18 -->


              <!-- Epsilon Lesson 19 177 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 177">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table><tr><td align="right">
                  <table cellpadding="1"><tr><td rowspan="2">{{problem.wholeSum}}</td><td class="numerator" align="center">{{problem.numSum}}</td></tr>
                  <tr><td>{{problem.denominator}}</td></tr></table>
                  </td></tr><tr><td class="numerator" align="right">
                  <table cellpadding="1"><tr><td rowspan="2">-&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                  <tr><td>{{problem.denominator}}</td></tr></table>
                  </td></tr><tr><td align="right">
                  <table cellpadding="1"><tr><td rowspan="2">&nbsp;</td><td>&nbsp;</td></tr>
                  <tr><td>&nbsp;</td></tr></table>
                  </td></tr></table>
              
              </div>
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 177">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2">{{problem.wholeSum}}</td><td class="numerator" align="center">{{problem.numSum}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr><tr><td class="numerator" align="right">
                    <table cellpadding="1"><tr><td rowspan="2">-&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
                    </td></tr><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2"><span class="math-answer">{{problem.wholeAddend1}}</span></td><td class="numerator" align="center"><span class="math-answer">{{problem.numAddend1}}</span></td></tr>
                    <tr><td><span class="math-answer">{{problem.denomDiff}}</span></td></tr></table>
                    </td></tr></table><br>
              </div>

              <!-- E19 -->


              <!-- Epsilon Lesson 21 179 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 179">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                  <table><tr><td align="right">
                      <table cellpadding="1" align="right"><tr><td rowspan="2">{{problem.wholeAddend1}}</td><td class="numerator" align="center">{{problem.numAddend1}}</td></tr>
                      <tr><td>{{problem.denominator1}}</td></tr></table>
                      </td></tr><tr><td class="numerator" align="right">
                      <table cellpadding="1"><tr><td rowspan="2">+&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                      <tr><td>{{problem.denominator2}}</td></tr></table>
                      </td></tr><tr><td align="right">
                      <table cellpadding="1" align="right"><tr><td rowspan="2">&nbsp;</td><td>&nbsp;</td></tr>
                      <tr><td>&nbsp;</td></tr></table>
                      </td></tr></table>
                  
              </div>

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 179">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                     <table><tr><td align="right">
                     <table cellpadding="1" align="right"><tr><td rowspan="2">{{problem.wholeAddend1}}</td><td class="numerator" align="center">{{problem.numAddend1}}</td></tr>
                     <tr><td>{{problem.denominator1}}</td></tr></table>
                     </td></tr><tr><td class="numerator" align="right">
                     <table cellpadding="1"><tr><td rowspan="2">+&nbsp;</td><td rowspan="2">{{problem.wholeAddend2}}</td><td class="numerator" align="center">{{problem.numAddend2}}</td></tr>
                     <tr><td>{{problem.denominator2}}</td></tr></table>
                     </td></tr><tr><td align="right">
                      <!-- if (numSum != 0) { -->
                         <table *ngIf="problem.numSum != 0" cellpadding="1" align="right"><tr><td rowspan="2"><span class="math-answer">{{problem.wholeSum}}</span></td><td class="numerator" align="center"><span class="math-answer">{{problem.numSum}}</span></td></tr>
                         <tr><td><span class="math-answer">{{problem.reducedDenom}}</span></td></tr></table>
                      <!-- }else{ -->
                         <table *ngIf="problem.numSum == 0" cellpadding="1" align="right"><tr><td><span class="math-answer">{{problem.wholeSum}}</span></td><td>&nbsp;&nbsp;&nbsp;</td></tr></table>
                      <!-- } -->
                     </td></tr></table><br>

              </div>
              <!-- /E21 -->


              <!-- Epsilon Lesson 22 180 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 180">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                    <table><tr><td align="right">
                        <table cellpadding="1" align="right"><tr><td rowspan="2">{{problem.whole1}}</td><td class="numerator" align="center">{{problem.num1}}</td></tr>
                        <tr><td>{{problem.denominator1}}</td></tr></table>
                        </td></tr><tr><td class="numerator" align="right">
                        <table cellpadding="1"><tr><td rowspan="2">-&nbsp;</td><td rowspan="2">{{problem.whole2}}</td><td class="numerator" align="center">{{problem.num2}}</td></tr>
                        <tr><td>{{problem.denominator2}}</td></tr></table>
                        </td></tr><tr><td align="right">
                        <table cellpadding="1"><tr><td rowspan="2">&nbsp;</td><td>&nbsp;</td></tr>
                        <tr><td>&nbsp;</td></tr></table>
                        </td></tr></table>
              </div>

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 180">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                    <table><tr><td align="right">
                    <table cellpadding="1" align="right"><tr><td rowspan="2">{{problem.whole1}}</td><td class="numerator" align="center">{{problem.num1}}</td></tr>
                    <tr><td>{{problem.denominator1}}</td></tr></table>
                    </td></tr><tr><td class="numerator" align="right">
                    <table cellpadding="1"><tr><td rowspan="2">-&nbsp;</td><td rowspan="2">{{problem.whole2}}</td><td class="numerator" align="center">{{problem.num2}}</td></tr>
                    <tr><td>{{problem.denominator2}}</td></tr></table>
                    </td></tr><tr><td align="right">
                    <table cellpadding="1"><tr><td rowspan="2"><span class="math-answer">{{problem.wholeDiff}}</span></td><td class="numerator" align="center"><span class="math-answer">{{problem.numDiff}}</span></td></tr>
                    <tr><td><span class="math-answer">{{problem.reducedDenom}}</span></td></tr></table>
                    </td></tr></table>

                  </div>

              <!-- /E22 -->


              <!-- Epsilon Lesson 23 181 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 181">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                  <table cellpadding="1"><tr><td rowspan="2">{{problem.whole1}}</td><td class="numerator">{{problem.num1}}</td>
                    <td rowspan="2">&nbsp;&divide;&nbsp;{{problem.whole2}}</td><td class="numerator">{{problem.num2}}</td><td rowspan="2">&nbsp;=</td></tr>
                    <tr><td>{{problem.denom1}}</td><td>{{problem.denom2}}</td></tr></table>
                
                    

              </div>

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 181">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                 <table cellpadding="1"><tr><td rowspan="2">{{problem.whole1}}</td><td class="numerator">{{problem.num1}}</td>
                   <td rowspan="2">&nbsp;&divide;&nbsp;{{problem.whole2}}</td><td class="numerator">{{problem.num2}}</td><td rowspan="2">&nbsp;=&nbsp;</td>
                    <!-- if (wholeAnswer != 0) { -->
                       <td *ngIf="problem.wholeAnswer != 0" rowspan="2"><span class="math-answer">{{problem.wholeAnswer}}</span></td>
                    <!-- } -->
                    <!-- if(numAnswer != 0) { -->
                       <td *ngIf="problem.numAnswer != 0" class="numerator"><span class="math-answer">{{problem.numAnswer}}</span></td>
                    <!-- } -->
                   </tr>
                   <tr><td>{{problem.denom1}}</td><td>{{problem.denom2}}</td>
                    <!-- if(numAnswer != 0) { -->
                       <td *ngIf="problem.numAnswer != 0"><span class="math-answer">{{problem.denomAnswer}}</span></td>
                    <!-- } -->
                   </tr></table>&nbsp;&nbsp;

              </div>
              <!-- /E23 -->


              <!-- Epsilon Lesson 25 183 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 183">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td rowspan="2">{{problem.swhole1}}</td><td class="numerator">{{problem.num1}}</td>
                    <td rowspan="2">&nbsp;x&nbsp; <span *ngIf="problem.whole2 != 0">{{problem.whole2}}</span>
                    <!-- if (whole2 != 0) { -->
                        <!-- display += whole2; //make this conditional -->
                    <!-- } -->
                 </td><td class="numerator"> {{problem.num2}}</td><td rowspan="2">&nbsp;x&nbsp; {{problem.whole3}}</td>
                 <td class="numerator"> {{problem.num3}}</td><td rowspan="2">&nbsp;=&nbsp;</td></tr>
                 <tr><td> {{problem.denom1}}</td><td> {{problem.denom2}}</td><td> {{problem.denom3}}</td></tr></table>

              </div>
              
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 183">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                 <table cellpadding="1"><tr><td rowspan="2"> {{problem.whole1}}</td><td class="numerator"> {{problem.num1}}</td>
                   <td rowspan="2">&nbsp;x&nbsp; <span *ngIf="problem.whole2 != 0">{{problem.whole2}}</span>
                    <!-- if (whole2 != 0) {
                        answerKey += whole2;
                    } -->
                   </td><td class="numerator"> {{problem.num2}}</td><td rowspan="2">&nbsp;x&nbsp; {{problem.whole3}}</td>
                   <td class="numerator"> {{problem.num3}}</td><td rowspan="2">&nbsp;=&nbsp; <span *ngIf="problem.wholeAnswer != 0"><span class="math-answer">{{problem.wholeAnswer}}</span></span>
                    <!-- if (wholeAnswer != 0) {
                        answerKey += wholeAnswer;
                    } -->
                   </td>
                    <!-- if (numAnswer != 0) { -->
                       <td *ngIf="problem.numAnswer != 0" class="numerator"> <span class="math-answer">{{problem.numAnswer}}</span></td>
                    <!-- } -->
                   </tr>
                   <tr><td> {{problem.denom1}}</td><td> {{problem.denom2}}</td><td> {{problem.denom3}}</td>
                    <!-- if (numAnswer != 0) { -->
                       <td *ngIf="problem.numAnswer != 0"> <span class="math-answer">{{problem.denomAnswer}}</span></td>
                    <!-- } -->
                   </tr></table>

              </div>


              <!-- /E25 -->


              <!-- Epsilon Lesson 29 187 -->
              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && !worksheetService.options.showAnswers && problem.lessonNo == 187">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="0"><tr><td class="numerator">{{problem.num}}</td>
                  <td rowspan="2">&nbsp;=&nbsp;</td>
                  <td class="numerator">&nbsp;</td>
                  <td rowspan="2">&nbsp;=&nbsp;</td>
                  <td rowspan="2" class="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>%</td></tr>
                  <tr><td>{{problem.denom}}</td><td>100</td></tr></table>
              </div>

              <div class="math-problem__problem" *ngIf="problem.epsilonProblem && worksheetService.options.showAnswers && problem.lessonNo == 187">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="0"><tr><td class="numerator">{{problem.num}}</td>
                <td rowspan="2">&nbsp;=&nbsp;</td>
                <td class="numerator"><span class="math-answer">{{problem.decimal}}</span></td>
                <td rowspan="2">&nbsp;=&nbsp;</td>
                <td rowspan="2"><span class="math-answer">{{problem.decimal}}%</span></td></tr>
                <tr><td>{{problem.denom}}</td><td>100</td></tr></table>

              </div>

              <!-- /E29 -->


              
              <!--  ZETA LEVEL -->

              <!-- Zeta Lesson 4 -->

                <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 193">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="0"><tr><td align="right">{{problem.addend1}} </td></tr>
                    <tr><td align="right" class="numerator">+&nbsp;{{problem.addend2}} </td></tr></table>
                    
                </div>
                <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 193">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="0"><tr><td align="right">{{problem.addend1}} </td></tr>
                    <tr><td align="right" class="numerator">+&nbsp;{{problem.addend2}} </td></tr>
                    <tr><td align="right"> <span class="math-answer">{{problem.sum}}</span> </td></tr></table>
                </div>


              <!-- /Z4 -->
              <!-- Zeta Lesson 5 -->
                <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 194">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    
                      <table cellpadding="0"><tr><td align="right">{{problem.sum}}</td></tr>
                      <tr><td align="right" class="numerator">- {{problem.addend2}}</td></tr></table>

                </div>
                <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 194">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                      <table cellpadding="0"><tr><td align="right">{{problem.sum}}</td></tr>
                      <tr><td align="right" class="numerator">- {{problem.addend2}}</td></tr>
                      <tr><td align="right"><span class="math-answer">{{problem.addend1}}</span></td></tr></table>

                </div>
              <!-- /Z5 -->

              <!-- Zeta Lesson 8 -->
                <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 197">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    
                    <table cellpadding="0"><tr><td align="left">{{problem.quantity}} {{problem.prefix_1}}{{problem.unit_abbrev}} = _____ {{problem.prefix_2}}{{problem.unit_abbrev}}<br><br><br></td></tr></table>

                </div>

                <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 197">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    
                    <table cellpadding="0"><tr><td align="left">{{problem.quantity}} {{problem.prefix_1}}{{problem.unit_abbrev}} = <span class="math-answer">{{problem.unitMultr}} {{problem.prefix_2}}{{problem.unit_abbrev}}</span><br><br><br></td></tr></table>

                </div>

              <!-- /Z8 -->

              <!-- Zeta Lesson 9 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 198">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="0"><tr><td align="right">{{problem.factor1D}}</td></tr>
                    <tr><td align="right" class="numerator">x {{problem.factor2D}}</td></tr></table>
                
                  </div>
                  
                  <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 198">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    
                    <table cellpadding="0"><tr><td align="right">{{problem.factor1D}}</td></tr>
                    <tr><td align="right" class="numerator">x {{problem.factor2D}}</td></tr>
                    <tr><td align="right"><span class="math-answer">{{problem.productD}}</span></td></tr></table>

              </div>

              <!-- /Z9 -->

              <!-- Zeta Lesson 10 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 199">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="0"><tr><td></td><td>{{problem.factor1D}}</td></tr>
                    <tr><td>x&nbsp;</td><td class="numerator">{{problem.factor2D}}</td></tr></table>
                
              </div>
                  
              <!-- /Z10 -->
                  
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 199">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                
               <table cellpadding="0"><tr><td></td><td>{{problem.factor1D}}</td></tr>
                 <tr><td>x&nbsp;</td><td class="numerator">{{problem.factor2D}}</td></tr>
                 <tr><td></td><td><span class="math-answer"><span class="math-answer">{{problem.productD}}</span></span></td></tr></table>
              </div>



              <!-- Zeta Lesson 14 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 203">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="0"><tr><td></td><td align="right">{{problem.factor1D}}</td></tr>
                    <tr><td>x&nbsp;</td><td class="baseline">{{problem.factor2D}}</td></tr></table>
                  </div>
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 203">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="0"><tr><td></td><td align="right">{{problem.factor1D}}</td></tr>
                    <tr><td>x&nbsp;</td><td class="baseline">{{problem.factor2D}}</td></tr>
                    <tr><td></td><td align="right"><span class="math-answer">{{problem.productD}}</span></td></tr></table>
              </div>
              <!-- /Z14 -->

              <!-- Zeta Lesson 15 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 204">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="0"><tr><td align="left">{{problem.quantity}} {{problem.prefix_1}}{{problem.unit_abbrev}} = _____ {{problem.prefix_2}}{{problem.unit_abbrev}}<br><br><br></td></tr></table>

              </div>
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 204">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="0"><tr><td align="left">{{problem.quantity}} {{problem.prefix_1}}{{problem.unit_abbrev}} = <span class="math-answer">{{problem.unitMultr}} {{problem.prefix_2}}{{problem.unit_abbrev}}</span><br><br><br></td></tr></table>
                  
              </div>


              <!-- /Z15 -->

              <!-- Zeta Lesson 17 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 206">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td></td><td></td></tr>
                    <tr><td>{{problem.divisor}}</td><td class="divsign"> {{problem.dividend}}</td></tr></table>
                
              </div>

              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 206">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td></td><td align="right"><span class="math-answer">{{problem.quotient}}</span></td></tr>
                    <tr><td>{{problem.divisor}}</td><td class="divsign"> {{problem.dividend}}</td></tr></table>
              </div>


              <!-- /Z17 -->

              <!-- Zeta Lesson 18 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 207">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td></td><td></td></tr>
                    <tr><td>{{problem.divisor1}}</td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
                
                  </div>
                  
                  <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 207">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    
                      <table cellpadding="1"><tr><td></td><td align="right"><span class="math-answer">{{problem.quotient}}</span></td></tr>
                      <tr><td>{{problem.divisor1}} </td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
              </div>


              <!-- /Z18 -->
              <!-- Zeta Lesson 19 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 208">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td>{{problem.factor1}}{{problem.letter}} = {{problem.product}}</td></tr></table>

                </div>
                
                <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 208">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td align="center">{{problem.factor1}}{{problem.letter}} = {{problem.product}}</td></tr>
                    <tr><td align="center"><span class="math-answer">{{problem.letter}} = {{problem.product}} &divide; {{problem.factor1}}</span></td></tr>
                    <tr><td align="center"><span class="math-answer">{{problem.letter}} = {{problem.factor2}}</span></td></tr></table>
                  
              </div>

              <!-- /Z19 -->
              <!-- Zeta Lesson 20 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 209">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td></td><td></td></tr>
                    <tr><td>{{problem.divisor1}}</td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
                
              </div>
                  
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 209">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                <table cellpadding="1"><tr><td></td><td align="right"><span class="math-answer">{{problem.quotient}}</span></td></tr>
                <tr><td>{{problem.divisor1}}</td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
                  
              </div>

              <!-- /Z20 -->
              <!-- Zeta Lesson 21.1 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 2101">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  
                 <table cellpadding="1"><tr><td></td><td></td></tr>
                   <tr><td>{{problem.divisor1}}</td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
                
              </div>
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 2101">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td></td><td align="right"><span class="math-answer">{{problem.quotient}}</span></td></tr>
                    <tr><td>{{problem.divisor1}}</td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>

              </div>
                  
              <!-- /Z21.1 -->
              <!-- Zeta Lesson 21.2 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 2102">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td></td><td></td></tr>
                    <tr><td>{{problem.divisor1}}</td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
              
                </div>
                
                <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 2102">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  
                  <table cellpadding="1"><tr><td></td><td align="right"><span class="math-answer">{{problem.quotient}}</span></td></tr>
                  <tr><td>{{problem.divisor1}}</td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
              </div>

              <!-- /Z21.2 -->

               <!-- Zeta Lesson 21.3 -->
               <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 2103">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td></td><td></td></tr>
                      <tr><td>{{problem.divisor1}} </td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
            
                    </div>
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 2103">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td></td><td align="right"><span class="math-answer">{{problem.quotient1}}<span style="text-decoration:overline">{{problem.repeatedDigits}}</span></span></td></tr>
                  <tr><td>{{problem.divisor1}} </td><td class="divsign" align="right"> {{problem.dividend1}}</td></tr></table>
            
              </div>

              <!-- /Z21.3 -->

               <!-- Zeta Lesson 21.4 -->
               <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 2104">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td></td><td></td><td></td></tr>
                    <tr><td>{{problem.divisor}} </td><td class="divsign"> {{problem.dividend1}}</td><td></td></tr></table>
              </div>

               <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 2104">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td></td><td align="right"><span class="math-answer">{{problem.quotient}}</span></td><td>
                      <table class="smallfraction"><tr><td class="numerator">{{problem.numerator}}</td></tr>
                      <tr><td>{{problem.denominator}}</td></tr></table>
                      </td></tr>
                      <tr><td>{{problem.preDivisor}} </td><td class="divsign"> {{problem.preDividend}}</td><td></td></tr></table>
              </div>

              <!-- /Z21.4 -->

               <!-- Zeta Lesson 22 -->
               <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 211">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                 <table cellpadding="1"><tr><td>{{problem.factor1}} {{problem.letter}} +  {{problem.addedNumber}}  = {{problem.productPlusAddedNumber}}</td></tr></table>
              </div>
               
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 211">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <table cellpadding="1"><tr><td align="center">{{problem.factor1}}  {{problem.letter}} +  {{problem.addedNumber}} = {{problem.productPlusAddedNumber}} </td></tr>
                      <tr><td align="center"> <span class="math-answer">{{problem.factor1}} {{problem.letter}} +  {{problem.addedNumber}} - {{problem.addedNumber}} = {{problem.productPlusAddedNumber}} - {{problem.addedNumber}}</span> </td></tr>
                      <tr><td align="center"> <span class="math-answer">{{problem.factor1}} {{problem.letter}} = {{problem.product}}</span> </td></tr>
                      <tr><td align="center"> <span class="math-answer">{{problem.letter}}  = {{problem.product}} &divide;  {{problem.factor1}}</span></td></tr>
                      <tr><td align="center"> <span class="math-answer">{{problem.letter}} = {{problem.factor2}}</span> </td></tr></table>
              </div>

              <!-- /Z22 -->

              <!-- Zeta Lesson 23 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 212">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <table cellpadding="1"><tr><td></td><td colspan="2"></td><td></td></tr>
                    <tr><td rowspan="2"></td><td class="numerator">{{problem.numerator}}</td><td rowspan="2"> =</td></tr>
                    <tr><td>{{problem.denominator}}</td></tr></table>
              </div>
              
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 212">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  
                  <table *ngIf="problem.remainder == 0" cellpadding="1"><tr><td align="center" class="numerator">{{problem.numerator}}</td><td rowspan="2"> = <span class="math-answer"> .{{problem.quotient}} {{problem.numeratorCode}} </span>=  <span class="math-answer">{{problem.quotient}} {{ problem.numeratorCode }}%</span></td></tr>
                    <tr><td align="center">{{problem.denominator}}</td><span class="math-answer">{{problem.denominatorCode}} {{problem.denominatorCode}}</span></tr>
                  </table>

                  <table *ngIf="problem.remainder != 0" cellpadding="1">
                    <tr><td align="center" class="numerator">{{problem.numerator}}</td><td rowspan="2"> =  <span class="math-answer">.{{problem.quotient}}</span></td><td class="numerator" align="center"> <span class="math-answer">{{problem.reducedRemainder}}</span></td><td rowspan="2"> =  <span class="math-answer">{{problem.quotient}}</span> </td><td class="numerator" align="center"> <span class="math-answer">{{problem.reducedRemainder}}</span></td><td rowspan="2"> <span class="math-answer">%</span></td></tr>
                    <tr><td align="center">{{problem.denominator}}</td><td align="center"> <span class="math-answer">{{problem.reducedDenominator}}</span></td><td align="center"> <span class="math-answer">{{problem.reducedDenominator}}</span></td></tr>
                  </table>

              </div>

              <!-- /Z23 -->

              <!-- Zeta Lesson 24 -->
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && !worksheetService.options.showAnswers && problem.lessonNo == 213">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  
                    <table cellpadding="1"><tr><td></td><td></td></tr>
                      <tr><td></td><td>.{{problem.problemAsText}}  =</td></tr></table>

              </div>
              <div class="math-problem__problem" *ngIf="problem.zetaProblem && worksheetService.options.showAnswers && problem.lessonNo == 213">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  
                  <table *ngIf="problem.reduced != true" cellpadding="1"><tr><td rowspan="2">.{{problem.problemAsText}} =</td><td class="numerator"> <span class="math-answer">{{problem.roundNumerator}}</span></td> <span class="math-answer">{{problem.reducedNumeratorCode}}</span></tr>
                    <tr><td align="center"> <span class="math-answer">{{problem.denominator}}</span></td> <span class="math-answer">{{problem.reducedDenominatorCode}}</span></tr></table>

                    <!-- if (reduced == true) {
                      reducedNumeratorCode = '<td rowspan="2"> = </td><td class="numerator">{{problem.reducedNumerator}}</td>
                      reducedDenominatorCode = '<td align="center">{{problem.reducedDenominator}}</td>
                    } -->

                  <table *ngIf="problem.reduced == true" cellpadding="1"><tr><td rowspan="2">.{{problem.problemAsText}} =</td><td class="numerator"> <span class="math-answer">{{problem.roundNumerator}}</span></td><td rowspan="2"> = </td><td class="numerator"> <span class="math-answer">{{problem.reducedNumerator}}</span></td></tr>
                    <tr><td align="center"> <span class="math-answer">{{problem.denominator}}</span></td><td align="center"> <span class="math-answer">{{problem.reducedDenominator}}</span></td></tr></table>

              </div>

              <!-- /Z24 -->

              <!-- 

                PRE_ALGEBRA

               -->

              <!-- Lesson 5 -->
              <!-- <div class="math-problem__problem" *ngIf="problem.prealgebraProblem && !worksheetService.options.showAnswers && problem.lessonNo == 225">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                
                 <table *ngIf="problem.type == 'whole'" cellpadding="1"><tr><td>{{problem.base}}<sup>{{problem.exponent}}</sup> = </td></tr></table>


                 <table *ngIf="problem.type != 'whole'" cellpadding="1"><tr><td rowspan="2">(</td><td class="numerator">{{problem.numerator}}</td><td rowspan="2">)</td><td rowspan="2"><sup>{{problem.exponent}}</sup> = </td></tr>
                  <tr><td align="center">{{problem.denominator}}</td></tr></table>
              </div>

              <div class="math-problem__problem" *ngIf="problem.prealgebraProblem && !worksheetService.options.showAnswers && problem.lessonNo == 225">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table cellpadding="1"><tr><td> {{problem.base}} <sup> {{problem.exponent}} </sup> = {{problem.mathPow}}</td></tr></table>
               <table cellpadding="1"><tr><td rowspan="2">(</td><td class="numerator">{{problem.numerator}}</td><td rowspan="2">)</td><td rowspan="2"><sup>{{problem.exponent}}</sup> = </td><td class="numerator">{{problem.numEx}}</td></tr>
                 <tr><td align="center">{{problem.denominator}}</td><td>{{problem.deEx}}</td></tr></table>

              </div> -->
               <!-- /5 -->


               <!-- PreAlgebra Lesson 7-->

              <!-- <div class="math-problem__problem" *ngIf="problem.prealgebraProblem && !worksheetService.options.showAnswers && problem.lessonNo == 226">
                <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <table *ngIf="problem.type == 'whole'" cellpadding="1"><tr><td> {{problem.opener}}  {{problem.base}}  {{problem.closer}}  <sup>  {{problem.exponent}} </sup> = </td></tr></table>
                <table *ngIf="problem.type != 'whole'" cellpadding="1"><tr><td rowspan="2">{{problem.opener}} </td><td class="numerator"> {{problem.numerator}} </td><td rowspan="2"> {{problenm.closer}} </td><td rowspan="2"><sup> {{problem.exponent}}</sup> = </td></tr>
                  <tr><td align="center">{{problem.denominator}} </td></tr></table>
 
              </div>


              <div class="math-problem__problem" *ngIf="problem.prealgebraProblem && worksheetService.options.showAnswers && problem.lessonNo == 226">
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                  <table *ngIf="problem.type == 'whole'" cellpadding="1"><tr><td>{{problem.opener}} + {{problem.base}} + {{problem.closer}}<sup>{{problem.exponent}}</sup> = {{problem.correctEx}}</td></tr></table>

                
                  <!-- <table *ngIf="problem.type == 'fraction'" cellpadding="1"><tr><td rowspan="2">{{problem.opener}}</td><td class="numerator">{{problem.numerator}}</td><td rowspan="2">{{problem.closer}}</td><td rowspan="2"><sup>{{problem.exponent}}</sup><sub>&nbsp;</sub>= {{problem.answerSign}}</td><td class="numerator">{{problem.numEx}}</td></tr>
                  <tr><td align="center">{{problem.denominator}}</td><td>{{problem.deEx}}</td></tr></table>

              </div> -->

                <!--  /7 -->

               
               <!-- Lesson 8 -->
              
               <!-- /8 -->

               <!-- Lesson 9 -->
              
               <!-- /9 -->

               <!-- Lesson 13 -->
              
               <!-- /13 -->

               <!-- Lesson 14 -->
              
               <!-- /14 -->

               <!-- Lesson 16 -->
              
               <!-- /16 -->

               <!-- Lesson 17 -->
              

               <!-- /17 -->

               

                <!-- HORIZONTAL : DIVISION PROBLEMS  -->
                <div class="math-problem__problem" *ngIf="isDivisionProblem(problem) && !worksheetService.options.Fractions">
      
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <div class="math-problem__symbol"></div>
                    <div class="math-problem__value-HOR" *ngFor="let value of problem.values; index as n">
                      <span>{{ value }}&nbsp;</span>
                      <span *ngIf="n == 1">&nbsp;=</span>
                      <span class="math-answer" *ngIf="worksheetService.options.showAnswers && n == 1" style="position:relative; left:10px;">&nbsp;{{ problem.divAnswer }}&nbsp; <span *ngIf="problem.divRemainder"><span *ngIf="problem.lessonNo !== 147">R&nbsp;</span>{{problem.divRemainder}}</span></span>
                      <span *ngIf="n == 0">Ã·</span>
                    </div>

                </div>
                <!-- End Division problems -->

               <!-- Inequalities for Beta -->
               <div class="math-problem__problem" *ngIf="problem.isInequality == true">

                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <div class="math-problem__symbol"></div>
                  <div class="math-problem__value-HOR" *ngFor="let value of problem.values; index as j">
                      <span>{{ value }}&nbsp;</span>
                      <span *ngIf="!worksheetService.options.showAnswers  && j === 0">&nbsp;_&nbsp;</span>
                      <span class="math-answer" *ngIf="worksheetService.options.showAnswers && j === 0">{{ problem.answer_inequality }}&nbsp;</span>
                      <!-- <span>{{ value }}&nbsp;</span> -->
                  </div>
   
                </div>

                <!-- Rounding 10 -->
                <div class="math-problem__problem" *ngIf="problem.roundingTen == true">
                    
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <div class="math-problem__symbol"></div>
                    <div class="math-problem__value-HOR" *ngFor="let value of problem.values; index as j">

                        <span>{{ value }}&nbsp;&rarr;</span>
                        <span *ngIf="!worksheetService.options.showAnswers  && j === 0">&nbsp;_&nbsp;</span>
                        <span class="math-answer" *ngIf="worksheetService.options.showAnswers && j === 0">{{ problem.answer_roundingTen }}&nbsp;</span>

                    </div>

                </div>
                <!-- End Beta Inequalities -->



                <!-- Non Division Problems -->
                <div class="math-problem__problem" *ngIf="!isDivisionProblem(problem) && !problem.isInequality && !problem.roundingTen && !worksheetService.options.Fractions && !problem.zetaProblem && !problem.epsilonProblem && !problem.override && !problem.numerals">
                  <!-- Ã· -->
                  <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                  <div class="math-problem__symbol"></div>
                  <div class="math-problem__value-HOR" *ngFor="let value of problem.values; index as j">
                    
                    <!-- ADDITION  -->
                    <span *ngIf="problem.problemType === 1 && !worksheetService.options.Fractions">
                        
                      <span *ngIf="!problem.solveForUnknown || value != '_'">
                      <span *ngIf="problem.containsNegative">(</span>{{ value }}<span *ngIf="problem.containsNegative">)</span>&nbsp;
                      </span>
                      <span *ngIf="problem.solveForUnknown && value == '_'">
                        <span *ngIf="!worksheetService.options.showAnswers">{{ value }}&nbsp;</span>
                        <span class="math-answer" *ngIf="worksheetService.options.showAnswers">{{ problem.answer }}&nbsp;</span>
                      </span>
                    </span>

                    <span *ngIf="problem.problemType === 2 && !worksheetService.options.Fractions">
                        
                        <span *ngIf="!problem.solveForUnknown || value != '_'">
                        <span *ngIf="problem.containsNegative">(</span>{{ value }}<span *ngIf="problem.containsNegative">)</span>&nbsp;
                        </span>
                        <span *ngIf="problem.solveForUnknown && value == '_'">
                          <span *ngIf="!worksheetService.options.showAnswers">{{ value }}&nbsp;</span>
                          <span class="math-answer" *ngIf="worksheetService.options.showAnswers">{{ problem.answer }}&nbsp;</span>
                        </span>
                    </span>

                    <!-- MULTIPLICATION -->
                    <span *ngIf="problem.problemType === 8 && !worksheetService.options.Fractions && !problem.lessonNo">
                        
                        <span *ngIf="!problem.solveForUnknown || value != '_'">
                        <span *ngIf="problem.containsNegative">(</span>{{ value }}<span *ngIf="problem.containsNegative">)</span>&nbsp;
                        </span>
                        <span *ngIf="problem.solveForUnknown && value == '_'">
                          <span *ngIf="!worksheetService.options.showAnswers">{{ value }}&nbsp;</span>
                          <span class="math-answer" *ngIf="worksheetService.options.showAnswers">{{ problem.answer }}&nbsp;</span>
                        </span>
                      </span>

                    <!--  Solve for Unknown Mult : Gamma Lesson 8 -->
                      <span *ngIf="problem.problemType === 8 && problem.lessonNo === 104">

                          <span *ngIf="!worksheetService.options.showAnswers && problem.solveForUnknown">{{ value }}</span>
                          <span class="math-answer" *ngIf="worksheetService.options.showAnswers && j === 1">{{problem.lhs}} x {{ problem.answer }}&nbsp;</span>

                      </span>
                      <!--  Solve for Unknown Mult -->
                      <!-- Solve for unknown AddMult symbols -->
                      <span *ngIf="j == problem.values.length - 1"> = </span><span *ngIf="j < problem.values.length - 1">{{ problem.symbol }}</span>

                  </div>

                  <!-- Any addition answer sans fractions -->
                  <div class="math-problem__answer-HOR" *ngIf="worksheetService.options.showAnswers && !problem.solveForUnknown">
                    <ng-container *ngIf="!isDivisionProblem(problem)">{{ problem.answer }}</ng-container> 
                  </div>

                  <!--  Any solve For Unknown Answers -->
                  <div class="math-problem__value-HOR" *ngIf="problem.solveForUnknown == true">
                      <ng-container *ngIf="!isDivisionProblem(problem)">{{ problem.sfu_answer }}</ng-container> 
                  </div>

                  <div class="math-problem__answer-HOR" *ngIf="!worksheetService.options.showAnswers">&nbsp;</div>
                </div>
              <!-- ENd non division problems -->

                <!-- Horizontal Division Problems -->
                <!-- <div class="math-problem__problem" *ngIf="isDivisionProblem(problem) && !problem.isInequality">
                    <div class="math-problem__number-HOR" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>
                    <div class="math-problem__symbol"></div>
                    <div class="math-problem__value-HOR" *ngFor="let value of problem.values; index as j">{{ value }}&nbsp;<span *ngIf="j == problem.values.length - 1"> = </span><span *ngIf="j < problem.values.length - 1">{{ problem.symbol }}</span></div>
                    <div class="math-problem__answer-HOR" *ngIf="worksheetService.options.showAnswers">
                      <ng-container *ngIf="isDivisionProblem(problem)">
                        <ng-container *ngIf="worksheetService.options.divisionOptions.showRemainders">{{problem.answerFloored}}<strong>r</strong>{{problem.remainder}}</ng-container>
                        <ng-container *ngIf="!worksheetService.options.divisionOptions.showRemainders">{{problem.answer | number:getDivisionNumberFormat()}}</ng-container>
                      </ng-container>
                      <ng-container *ngIf="!isDivisionProblem(problem)">{{ problem.answer }}</ng-container> 
                    </div>
                    <div class="math-problem__answer-HOR" *ngIf="!worksheetService.options.showAnswers">&nbsp;</div>
                </div> -->

            </div>
          </div>

          <!-- NOT HORIZONTAL -->
          <div *ngIf="!worksheetService.options.showHorizontal">
            <div class="math-problem" *ngFor="let problem of worksheetService.problems; index as i">

              <!--  Add non-horizontal here -->


              <!--  -->
              <div class="math-problem__problem" *ngIf="!isDivisionProblem(problem)">

              </div>

              <div class="math-problem__problem" *ngIf="isDivisionProblem(problem) && !problem.zetaProblem && !problem.epsilonProblem">

                <div class="math-problem__number" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <!-- VERTICAL DIVISION PROBLEMS -->
                <div style="width:100%;" class="divide-box">
                  <div>
                    <div style="display: inline-block;  min-width: 30px; " class="divide divide-1"> <span></span> </div>

                    <!-- 
                      DIVISION ALIGNMENT PROPERTIES 
                      The placement of the quotient depends on how many digits are in the dividend and how many are in the divisor
                    -->

                    <div style="display: inline-block;position:relative;left:7px;" class="math-problem__answer-HOR divide divide-2"> 
                      <span *ngIf="worksheetService.options.showAnswers">{{ problem.divAnswer }} &nbsp; 
                        <span *ngIf="problem.divRemainder"><span *ngIf="problem.lessonNo !== 147">R</span>{{ problem.divRemainder }}
                      </span>
                    </span> 
                    </div>

                </div>

                <div>
                  <!-- LONG DIVISION TABLES -->
                  <div style="display: inline-block; min-width: 30px; text-align:center;"  class="divide-3">

                    <span class='numbers' >
                      {{problem.values[1]}}
                    </span>
                  </div>

                  <div class="divide-4" style="display: inline-block;border-left: 1px black solid; border-top: 1px black solid;min-width: 27px;text-align: center;">
                    <span class='numbers'>
                      {{problem.values[0]}}
                    </span>
                  </div>

                </div>

                </div>

              </div>
              <!-- Non Division Problems -->
              <div class="math-problem__problem" *ngIf="!isDivisionProblem(problem) && problem.problemType != 4096 && !problem.zetaProblem && !problem.epsilonProblem">
                <div class="math-problem__number" *ngIf="worksheetService.options.showProblemNumbers">{{i+1}}.</div>

                <div class="math-problem__symbol">{{ problem.symbol }}</div>
                <div class="math-problem__value" *ngFor="let value of problem.values">{{ value }}</div>
                <div class="math-problem__answer" *ngIf="worksheetService.options.showAnswers">
                  <ng-container *ngIf="isDivisionProblem(problem)">
                    <ng-container *ngIf="worksheetService.options.divisionOptions.showRemainders">{{problem.answerFloored}}<strong>r</strong>{{problem.remainder}}</ng-container>
                    <ng-container *ngIf="!worksheetService.options.divisionOptions.showRemainders">{{problem.answer | number:getDivisionNumberFormat()}}</ng-container>
                  </ng-container>
                  <ng-container *ngIf="!isDivisionProblem(problem)">{{ problem.answer }}</ng-container>
                </div>
                <div class="math-problem__answer" *ngIf="!worksheetService.options.showAnswers">&nbsp;</div>
              </div>
            </div>
          </div>

          <!-- End Loop -->
        </div>
        <div class="worksheet__id" *ngIf="worksheetService.id">Worksheet Id: {{worksheetService.id}}</div>
      </md-card-content>
 
    </md-card>

    <!-- <div class="worksheet-display-disclaimer mat-elevation-z5 d-print-none" *ngIf="worksheetService.problems.length">
      The view shown here is meant to simulate a printed page (8.5x11 inch standard US paper size).
      <br>
      Your actual printout may look different depending on a number of factors including printer settings.
    </div> -->


    <!-- <button class="worksheet__print-button d-print-none" md-fab color="accent" *ngIf="worksheetService.problems.length">
      <md-icon class="md-24" aria-label="Print the worksheet" (click)="print()">print</md-icon>
    </button> -->


    <!-- <button class="worksheet__save-button d-print-none" md-fab color="primary" *ngIf="worksheetService.problems.length && (authService.user | async)?.uid">
      <md-icon class="md-24" aria-label="Save the worksheet" (click)="save()">save</md-icon>
    </button> -->

    
  </div>



</div>
<!-- <div class="worksheet__generate mat-elevation-z5 d-print-none">
  <button type="button" style="background:#001f69;" md-raised-button color="primary" (click)="generateWorksheet()" [disabled]="!optionsForm.form.valid">Generate Worksheet</button>
  <br><br>
  <button type="button" style="background:#d37a1a;" md-raised-button color="primary" (click)="reset()" [disabled]="!optionsForm.form.valid">Reset</button>
</div> -->